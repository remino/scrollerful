/*! scrollerful v0.6.4 | (c) 2022-2023 RÃ©mino Rem <https://remino.net/> | ISC Licence */
(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?module.exports=f():typeof define==='function'&&define.amd?define(f):(g=typeof globalThis!=='undefined'?globalThis:g||self,g.scrollerful=f());})(this,(function(){'use strict';var e = ":root{--scrollerful-delay:0s}@media screen{@supports(scroll-snap-stop:always){.scrollerful--enabled .scrollerful--snap,.scrollerful--enabled.scrollerful--snap--page,.scrollerful--enabled.scrollerful--snap--page body{scroll-snap-stop:always;scroll-snap-type:y proximity}}.scrollerful--enabled .scrollerful--snap,.scrollerful--enabled.scrollerful--snap--page{overflow-y:auto}@supports(scroll-snap-stop:always){.scrollerful--enabled .scrollerful--snap .scrollerful__tray,.scrollerful--enabled.scrollerful--snap--page .scrollerful__tray{scroll-snap-align:start end}}@supports(scroll-snap-stop:always){.scrollerful--enabled .scrollerful--x.scrollerful--snap,.scrollerful--enabled.scrollerful--snap--page .scrollerful--x,.scrollerful--enabled.scrollerful--snap--page:has(.scrollerful--x){scroll-snap-type:x proximity}}}@media screen{.scrollerful--enabled .scrollerful{min-height:100%;min-height:100vh;min-height:100svh}.scrollerful--enabled .scrollerful--snap{height:100%}.scrollerful--enabled .scrollerful--x{display:flex;flex-flow:row nowrap}.scrollerful--enabled .scrollerful--x.scrollerful--snap{overflow-x:auto;overflow-y:hidden}.scrollerful--enabled .scrollerful--x .scrollerful__plate{height:100vh;height:100svh;left:0;max-height:none;max-width:100%;top:auto;width:100vw;width:100lvw}.scrollerful--enabled .scrollerful--x .scrollerful__tray{flex-shrink:0;height:auto;width:300vw;width:300lvw}.scrollerful--enabled .scrollerful--x .scrollerful__tray--padding{height:auto;width:100vw;width:100lvw}.scrollerful--enabled .scrollerful__ruler{background:none transparent;border:none;bottom:0;display:block;height:100vh;height:100lvh;left:-200%;pointer-events:none;position:absolute;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100vw;width:100lvw;z-index:-10}.scrollerful--enabled .scrollerful__plate{align-items:center;display:flex;flex-flow:column;height:100vh;height:100lvh;justify-content:center;max-height:100%;overflow:hidden;position:sticky;top:0}.scrollerful--enabled .scrollerful__sprite,.scrollerful--enabled .scrollerful__sprite--inner,.scrollerful--enabled .scrollerful__sprite--outer{animation-duration:100s;animation-fill-mode:both;animation-play-state:paused;animation-timing-function:linear}.scrollerful--enabled .scrollerful__sprite,.scrollerful--enabled .scrollerful__sprite--inner{animation-delay:calc(var(--scrollerful-progress-inner, 0)*-100s + var(--scrollerful-delay, 0))}.scrollerful--enabled .scrollerful__sprite,.scrollerful--enabled .scrollerful__sprite--outer{animation-delay:calc(var(--scrollerful-progress-outer, 0)*-100s + var(--scrollerful-delay, 0))}.scrollerful--enabled .scrollerful__tray{height:300vh;height:300lvh;position:relative}.scrollerful--enabled .scrollerful__tray--padding{height:100vh;height:100lvh}}";const calcInnerProgress=(r,t,e)=>{if(t===e){const t=(r-e)/e*-1;switch(!0){case r<0:return t;case r>0:return t-1;default:return .5}}const c=r/(t-e)*-1;return 1==t<e?1-c:c};const calcOuterProgress=(r,t,e)=>(r-e)/(e+t)*-1;const n="scrollerful",s=`${n}--enabled`,o=`${n}--x`,i=`${n}--inside--inner`,l=`${n}--inside--outer`,a=`${n}__ruler`,c=`--${n}-progress-inner`,d=`--${n}-progress-outer`,u=`${n}innerenter`,m=`${n}innerexit`,g=`${n}outerenter`,p=`${n}outerexit`,y=`${n}scroll`,E=`.${n}`,b=`.${n}__tray`,v=`${n}_ruler`,h=`${n}_style`;let $;const L=(e,t=!1)=>t?e.scrollWidth:e.scrollHeight,f=e=>document.getElementById(v).getBoundingClientRect()[e?"width":"height"],w=(e,t,r)=>{const[n,s]=((...e)=>e.sort(((e,t)=>e-t)))(t,r);return e>=n&&e<=s},C=async(e,n)=>{const s=((e,n)=>{const{containerStart:s,containerSize:o,viewSize:i}=((e,t)=>{const{size:r,start:n}=((e,t=!1)=>{if(t){const{left:t,width:r}=e.getBoundingClientRect();return {size:r,start:t}}const{height:r,top:n}=e.getBoundingClientRect();return {size:r,start:n}})(e,t),s=((e,t)=>["auto","scroll"].includes(getComputedStyle(e).getPropertyValue("overflow-"+(t?"x":"y"))))(e,t);return {containerStart:n,containerSize:s?L(e,t):r,viewSize:s?r:f(t)}})(e,n);return {inner:calcInnerProgress(s,o,i),outer:calcOuterProgress(s,o,i)}})(e,n);e.dispatchEvent(new CustomEvent(y,{detail:{progress:s},bubbles:!0,cancelable:!0,composed:!1}));},S=({target:e,detail:{progress:{inner:t,outer:r}}})=>{var n;w(r,0,1)?(e.style.setProperty(c,t),e.style.setProperty(d,r)):(n=e,[c,d].forEach((e=>n.style.removeProperty(e))));},z=(e,t,r,n,s)=>{w(t,0,1)?e.classList.contains(s)||(e.classList.add(s),e.dispatchEvent(new CustomEvent(r,{bubbles:!0,cancelable:!0,composed:!1}))):e.classList.contains(s)&&(e.classList.remove(s),e.dispatchEvent(new CustomEvent(n,{bubbles:!0,cancelable:!0,composed:!1})));},A=({target:e,detail:{progress:{inner:t}}})=>{z(e,t,u,m,i);},x=({target:e,detail:{progress:{outer:t}}})=>{z(e,t,g,p,l);},_=({target:e})=>{$&&cancelAnimationFrame($),$=requestAnimationFrame((()=>{(async e=>{const t=e.classList.contains(o);Promise.all([e,...e.querySelectorAll(b)].map((e=>C(e,t))));})(e),$=null;}));},B=e=>{[e,...e.querySelectorAll(b)].forEach((e=>{e.addEventListener(y,S),e.addEventListener(y,x),e.addEventListener(y,A);}));};var m$1 = ()=>{(()=>{if(document.getElementById(h))return;const t=document.createElement("style");t.setAttribute("id",h),t.textContent=e,document.head.appendChild(t);})(),(()=>{const e=document.createElement("div");e.setAttribute("id",v),e.classList.add(a),document.body.appendChild(e);})(),Array.from(document.querySelectorAll(E)).forEach((e=>{e.addEventListener("resize",_),e.addEventListener("scroll",_),B(e),_({target:e});})),window.addEventListener("resize",(()=>_({target:document.body}))),window.addEventListener("scroll",(()=>_({target:document.body}))),B(document.body),_({target:document.body}),document.documentElement.classList.add(s);};return m$1;}));