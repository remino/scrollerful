/*! scrollerful v0.4.7 | (c) 2022-2023 RÃ©mino Rem <https://remino.net/> | ISC Licence */
var e = ":root{--scrollerful-delay:0s}.scrollerful{min-height:100%}@supports(scroll-snap-stop:always){.scrollerful--snap,.scrollerful__snap-page,.scrollerful__snap-page body{scroll-snap-stop:always;scroll-snap-type:y proximity}}.scrollerful--snap,.scrollerful__snap-page{overflow-y:auto}@supports(scroll-snap-stop:always){.scrollerful--snap .scrollerful__tray,.scrollerful__snap-page .scrollerful__tray{scroll-snap-align:start end}}.scrollerful--snap{height:100%}.scrollerful__ruler{background:none transparent;border:none;bottom:0;display:block;height:100vh;height:100lvh;left:-200%;pointer-events:none;position:absolute;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1rem;z-index:-10}.scrollerful__plate{align-items:center;display:flex;flex-flow:column;height:100vh;height:100lvh;justify-content:center;max-height:100%;overflow:hidden;position:sticky;top:0}.scrollerful__sprite,.scrollerful__sprite--inner,.scrollerful__sprite--outer{animation-duration:100s;animation-fill-mode:both;animation-play-state:paused;animation-timing-function:linear}.scrollerful__sprite,.scrollerful__sprite--inner{animation-delay:calc(var(--scrollerful-progress-inner, 0)*-100s + var(--scrollerful-delay, 0))}.scrollerful__sprite,.scrollerful__sprite--outer{animation-delay:calc(var(--scrollerful-progress-outer, 0)*-100s + var(--scrollerful-delay, 0))}.scrollerful__tray{height:300vh;height:300lvh;position:relative}.scrollerful__tray--padding{height:100vh;height:100lvh}";const t="scrollerful",n=`${t}--inside--inner`,r=`${t}--inside--outer`,o=`${t}__ruler`,s=`--${t}-progress-inner`,i=`--${t}-progress-outer`,l=`${t}innerenter`,c=`${t}innerexit`,a=`${t}outerenter`,d=`${t}outerexit`,u=`${t}scroll`,g=`.${t}`,m=`.${t}__tray`,p=`${t}_ruler`,y=`${t}_style`;let h;const v=(e,t,n)=>{const[r,o]=((...e)=>e.sort(((e,t)=>e-t)))(t,n);return e>=r&&e<=o},E=async e=>{const t=(e=>{const{containerTop:t,containerHeight:n,viewHeight:r}=(e=>{if(["auto","scroll"].includes(getComputedStyle(e).getPropertyValue("overflow-y"))){const t=e.getBoundingClientRect(),{top:n,height:r}=t,{scrollHeight:o}=e;return {containerTop:n,containerHeight:o,viewHeight:r}}const t=document.getElementById(p).getBoundingClientRect().height,{height:n,top:r}=e.getBoundingClientRect();return {containerTop:r,containerHeight:n,viewHeight:t}})(e);return {inner:t/-(n-r),outer:(t-r)/-(n+r)}})(e);e.dispatchEvent(new CustomEvent(u,{detail:{progress:t},bubbles:!0,cancelable:!0,composed:!1}));},b=({target:e,detail:{progress:{inner:t,outer:n}}})=>{var r;v(n,0,1)?(e.style.setProperty(s,t),e.style.setProperty(i,n)):(r=e,[s,i].forEach((e=>r.style.removeProperty(e))));},$=(e,t,n,r,o)=>{v(t,0,1)?e.classList.contains(o)||(e.classList.add(o),e.dispatchEvent(new CustomEvent(n,{bubbles:!0,cancelable:!0,composed:!1}))):e.classList.contains(o)&&(e.classList.remove(o),e.dispatchEvent(new CustomEvent(r,{bubbles:!0,cancelable:!0,composed:!1})));},L=({target:e,detail:{progress:{inner:t}}})=>{$(e,t,l,c,n);},f=({target:e,detail:{progress:{outer:t}}})=>{$(e,t,a,d,r);},w=({target:e})=>{h&&cancelAnimationFrame(h),h=requestAnimationFrame((()=>{(async e=>{Promise.all([e,...e.querySelectorAll(m)].map(E));})(e),h=null;}));},C=e=>{[e,...e.querySelectorAll(m)].forEach((e=>{e.addEventListener(u,b),e.addEventListener(u,f),e.addEventListener(u,L);}));};var scrollerful = ()=>{(()=>{if(document.getElementById(y))return;const t=document.createElement("style");t.setAttribute("id",y),t.textContent=e,document.head.appendChild(t);})(),(()=>{const e=document.createElement("div");e.setAttribute("id",p),e.classList.add(o),document.body.appendChild(e);})(),Array.from(document.querySelectorAll(g)).forEach((e=>{e.addEventListener("resize",w),e.addEventListener("scroll",w),C(e),w({target:e});})),window.addEventListener("resize",(()=>w({target:document.body}))),window.addEventListener("scroll",(()=>w({target:document.body}))),C(document.body),w({target:document.body});};export{scrollerful as default};