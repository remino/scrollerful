!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e=":root{--scrollerful-delay:0s}@media screen{.scrollerful--enabled .scrollerful{min-height:100%}@supports(scroll-snap-stop:always){.scrollerful--enabled .scrollerful--snap,.scrollerful--enabled .scrollerful--snap--page,.scrollerful--enabled .scrollerful--snap--page body{scroll-snap-stop:always;scroll-snap-type:y proximity}}.scrollerful--enabled .scrollerful--snap,.scrollerful--enabled .scrollerful--snap--page{overflow-y:auto}@supports(scroll-snap-stop:always){.scrollerful--enabled .scrollerful--snap .scrollerful__tray,.scrollerful--enabled .scrollerful--snap--page .scrollerful__tray{scroll-snap-align:start end}}.scrollerful--enabled .scrollerful--snap{height:100%}.scrollerful--enabled .scrollerful--x{display:flex;flex-flow:row nowrap}.scrollerful--enabled .scrollerful--x.scrollerful--snap{overflow-x:auto;overflow-y:hidden}@supports(scroll-snap-stop:always){.scrollerful--enabled .scrollerful--x.scrollerful--snap{scroll-snap-type:x proximity}}.scrollerful--enabled .scrollerful--x .scrollerful__plate{left:0;max-height:none;max-width:100%;top:auto;width:100vw;width:100lvw}.scrollerful--enabled .scrollerful--x .scrollerful__tray{flex-shrink:0;height:auto;width:300vw;width:300lvw}.scrollerful--enabled .scrollerful--x .scrollerful__tray--padding{height:auto;width:100vw;width:100lvw}.scrollerful--enabled .scrollerful__ruler{background:none transparent;border:none;bottom:0;display:block;height:100vh;height:100lvh;left:-200%;pointer-events:none;position:absolute;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100vw;width:100lvw;z-index:-10}.scrollerful--enabled .scrollerful__plate{align-items:center;display:flex;flex-flow:column;height:100vh;height:100lvh;justify-content:center;max-height:100%;overflow:hidden;position:sticky;top:0}.scrollerful--enabled .scrollerful__sprite,.scrollerful--enabled .scrollerful__sprite--inner,.scrollerful--enabled .scrollerful__sprite--outer{animation-duration:100s;animation-fill-mode:both;animation-play-state:paused;animation-timing-function:linear}.scrollerful--enabled .scrollerful__sprite,.scrollerful--enabled .scrollerful__sprite--inner{animation-delay:calc(var(--scrollerful-progress-inner, 0)*-100s + var(--scrollerful-delay, 0))}.scrollerful--enabled .scrollerful__sprite,.scrollerful--enabled .scrollerful__sprite--outer{animation-delay:calc(var(--scrollerful-progress-outer, 0)*-100s + var(--scrollerful-delay, 0))}.scrollerful--enabled .scrollerful__tray{height:300vh;height:300lvh;position:relative}.scrollerful--enabled .scrollerful__tray--padding{height:100vh;height:100lvh}}";const l="scrollerful",r=`${l}--enabled`,t=`${l}--x`,o=`${l}--inside--inner`,s=`${l}--inside--outer`,n=`${l}__ruler`,a=`--${l}-progress-inner`,i=`--${l}-progress-outer`,c=`${l}innerenter`,d=`${l}innerexit`,u=`${l}outerenter`,f=`${l}outerexit`,p=`${l}scroll`,h=`.${l}`,m=`.${l}__tray`,y=`${l}_ruler`,b=`${l}_style`;let g;const v=(e,l=!1)=>l?e.scrollWidth:e.scrollHeight,w=e=>document.getElementById(y).getBoundingClientRect()[e?"width":"height"],_=(e,l,r)=>{const[t,o]=((...e)=>e.sort(((e,l)=>e-l)))(l,r);return e>=t&&e<=o},x=async(e,l)=>{const r=((e,l)=>{const{containerStart:r,containerSize:t,viewSize:o}=((e,l)=>{const{size:r,start:t}=((e,l=!1)=>{if(l){const{left:l,width:r}=e.getBoundingClientRect();return{size:r,start:l}}const{height:r,top:t}=e.getBoundingClientRect();return{size:r,start:t}})(e,l),o=((e,l)=>["auto","scroll"].includes(getComputedStyle(e).getPropertyValue("overflow-"+(l?"x":"y"))))(e,l);return{containerStart:t,containerSize:o?v(e,l):r,viewSize:o?r:w(l)}})(e,l);return{inner:r/-(t-o),outer:(r-o)/-(t+o)}})(e,l);e.dispatchEvent(new CustomEvent(p,{detail:{progress:r},bubbles:!0,cancelable:!0,composed:!1}))},E=({target:e,detail:{progress:{inner:l,outer:r}}})=>{var t;_(r,0,1)?(e.style.setProperty(a,l),e.style.setProperty(i,r)):(t=e,[a,i].forEach((e=>t.style.removeProperty(e))))},L=(e,l,r,t,o)=>{_(l,0,1)?e.classList.contains(o)||(e.classList.add(o),e.dispatchEvent(new CustomEvent(r,{bubbles:!0,cancelable:!0,composed:!1}))):e.classList.contains(o)&&(e.classList.remove(o),e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,composed:!1})))},$=({target:e,detail:{progress:{inner:l}}})=>{L(e,l,c,d,o)},z=({target:e,detail:{progress:{outer:l}}})=>{L(e,l,u,f,s)},C=({target:e})=>{g&&cancelAnimationFrame(g),g=requestAnimationFrame((()=>{(async e=>{const l=e.classList.contains(t);Promise.all([e,...e.querySelectorAll(m)].map((e=>x(e,l))))})(e),g=null}))},S=e=>{[e,...e.querySelectorAll(m)].forEach((e=>{e.addEventListener(p,E),e.addEventListener(p,z),e.addEventListener(p,$)}))};var A=()=>{(()=>{if(document.getElementById(b))return;const l=document.createElement("style");l.setAttribute("id",b),l.textContent=e,document.head.appendChild(l)})(),(()=>{const e=document.createElement("div");e.setAttribute("id",y),e.classList.add(n),document.body.appendChild(e)})(),Array.from(document.querySelectorAll(h)).forEach((e=>{e.addEventListener("resize",C),e.addEventListener("scroll",C),S(e),C({target:e})})),window.addEventListener("resize",(()=>C({target:document.body}))),window.addEventListener("scroll",(()=>C({target:document.body}))),S(document.body),C({target:document.body}),document.documentElement.classList.add(r)};"interactive"===document.readyState?A():document.addEventListener("DOMContentLoaded",A)}));