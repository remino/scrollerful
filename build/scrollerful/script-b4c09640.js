!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e=":root{--scrollerful-delay:0s}.scrollerful{min-height:100%}@supports(scroll-snap-stop:always){.scrollerful--snap,.scrollerful__snap-page,.scrollerful__snap-page body{scroll-snap-stop:always;scroll-snap-type:y proximity}}.scrollerful--snap,.scrollerful__snap-page{overflow-y:auto}@supports(scroll-snap-stop:always){.scrollerful--snap .scrollerful__tray,.scrollerful__snap-page .scrollerful__tray{scroll-snap-align:start end}}.scrollerful--snap{height:100%}.scrollerful__ruler{background:none transparent;border:none;bottom:0;display:block;height:100vh;height:100lvh;left:-200%;pointer-events:none;position:absolute;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1rem;z-index:-10}.scrollerful__plate{align-items:center;display:flex;flex-flow:column;height:100vh;height:100lvh;justify-content:center;max-height:100%;overflow:hidden;position:sticky;top:0}.scrollerful__sprite,.scrollerful__sprite--inner,.scrollerful__sprite--outer{animation-duration:100s;animation-fill-mode:both;animation-play-state:paused;animation-timing-function:linear}.scrollerful__sprite,.scrollerful__sprite--inner{animation-delay:calc(var(--scrollerful-progress-inner, 0)*-100s + var(--scrollerful-delay, 0))}.scrollerful__sprite,.scrollerful__sprite--outer{animation-delay:calc(var(--scrollerful-progress-outer, 0)*-100s + var(--scrollerful-delay, 0))}.scrollerful__tray{height:300vh;height:300lvh;position:relative}.scrollerful__tray--padding{height:100vh;height:100lvh}";const t="scrollerful",r=`${t}--inside--inner`,n=`${t}--inside--outer`,l=`${t}__ruler`,o=`--${t}-progress-inner`,s=`--${t}-progress-outer`,i=`${t}innerenter`,a=`${t}innerexit`,c=`${t}outerenter`,u=`${t}outerexit`,d=`${t}scroll`,p=`.${t}`,g=`.${t}__tray`,h=`${t}_ruler`,f=`${t}_style`;let m;const y=(e,t,r)=>{const[n,l]=((...e)=>e.sort(((e,t)=>e-t)))(t,r);return e>=n&&e<=l},v=async e=>{const t=(e=>{const{containerTop:t,containerHeight:r,viewHeight:n}=(e=>{if(["auto","scroll"].includes(getComputedStyle(e).getPropertyValue("overflow-y"))){const t=e.getBoundingClientRect(),{top:r,height:n}=t,{scrollHeight:l}=e;return{containerTop:r,containerHeight:l,viewHeight:n}}const t=document.getElementById(h).getBoundingClientRect().height,{height:r,top:n}=e.getBoundingClientRect();return{containerTop:n,containerHeight:r,viewHeight:t}})(e);return{inner:t/-(r-n),outer:(t-n)/-(r+n)}})(e);e.dispatchEvent(new CustomEvent(d,{detail:{progress:t},bubbles:!0,cancelable:!0,composed:!1}))},_=({target:e,detail:{progress:{inner:t,outer:r}}})=>{var n;y(r,0,1)?(e.style.setProperty(o,t),e.style.setProperty(s,r)):(n=e,[o,s].forEach((e=>n.style.removeProperty(e))))},b=(e,t,r,n,l)=>{y(t,0,1)?e.classList.contains(l)||(e.classList.add(l),e.dispatchEvent(new CustomEvent(r,{bubbles:!0,cancelable:!0,composed:!1}))):e.classList.contains(l)&&(e.classList.remove(l),e.dispatchEvent(new CustomEvent(n,{bubbles:!0,cancelable:!0,composed:!1})))},E=({target:e,detail:{progress:{inner:t}}})=>{b(e,t,i,a,r)},w=({target:e,detail:{progress:{outer:t}}})=>{b(e,t,c,u,n)},L=({target:e})=>{m&&cancelAnimationFrame(m),m=requestAnimationFrame((()=>{(async e=>{Promise.all([e,...e.querySelectorAll(g)].map(v))})(e),m=null}))},$=e=>{[e,...e.querySelectorAll(g)].forEach((e=>{e.addEventListener(d,_),e.addEventListener(d,w),e.addEventListener(d,E)}))};var C=()=>{(()=>{if(document.getElementById(f))return;const t=document.createElement("style");t.setAttribute("id",f),t.textContent=e,document.head.appendChild(t)})(),(()=>{const e=document.createElement("div");e.setAttribute("id",h),e.classList.add(l),document.body.appendChild(e)})(),Array.from(document.querySelectorAll(p)).forEach((e=>{e.addEventListener("resize",L),e.addEventListener("scroll",L),$(e),L({target:e})})),window.addEventListener("resize",(()=>L({target:document.body}))),window.addEventListener("scroll",(()=>L({target:document.body}))),$(document.body),L({target:document.body})};"interactive"===document.readyState?C():document.addEventListener("DOMContentLoaded",C)}));